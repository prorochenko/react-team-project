"use strict";(self.webpackChunkreact_team_project=self.webpackChunkreact_team_project||[]).push([[547],{6648:function(t,r,a){a.r(r),a.d(r,{default:function(){return Z}});var e=a(885),n=a(2791),s=a(3853),c=a(9434),o=a(9488),i=a(4148),u={formProduct:"DiaryAddProductForm_formProduct__bLNkG",formLabel:"DiaryAddProductForm_formLabel__2iQOj",formInput:"DiaryAddProductForm_formInput__yClS2",formInput__gram:"DiaryAddProductForm_formInput__gram__0UnmD",formButton:"DiaryAddProductForm_formButton__x9kC6",icon:"DiaryAddProductForm_icon__AaQOc"},d=a(3329);function l(){var t=(0,c.I0)(),r=(0,c.v9)(i.Fn),a=(0,c.v9)(i.AV),l=(0,n.useState)(""),m=(0,e.Z)(l,2),_=m[0],f=m[1],p=(0,n.useState)(""),y=(0,e.Z)(p,2),x=y[0],h=y[1],j=function(){if(r){var t=r.findIndex((function(t){return t.title.ru===_}));if(t>=0)return r[t]._id}}(),D=function(r){var a=r.target,e=a.name,n=a.value;switch(e){case"product":return n.length>2&&t((0,o.MX)(n)),f(n);case"grams":return h(n);default:return}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:u.form,children:(0,d.jsxs)("form",{className:u.formProduct,onSubmit:function(r){r.preventDefault();var e=+r.target.elements.grams.value;t((0,o.mB)({date:a,productId:j,weight:e})),f(""),h("")},children:[(0,d.jsxs)("label",{className:u.formLabel,children:[(0,d.jsx)("input",{className:u.formInput,type:"text",name:"product",value:_,onChange:D,placeholder:"Enter product name",list:"list",autoComplete:"off",required:!0}),(null===r||void 0===r?void 0:r.length)>0&&(0,d.jsx)("datalist",{id:"list",children:r.map((function(t){return(0,d.jsx)("option",{value:t.title.ru},t._id)}))})]}),(0,d.jsx)("label",{className:u.formLabel,children:(0,d.jsx)("input",{className:u.formInput+" "+u.formInput__gram,type:"text",pattern:"[0-9]+",name:"grams",value:x,onChange:D,placeholder:"Grams",required:!0,autoComplete:"off"})}),(0,d.jsx)("button",{className:u.formButton,type:"submit",children:(0,d.jsx)(s.OvN,{className:u.icon})})]})})})}var m="DiaryProductsListItem_productsListItem__5+qUY",_="DiaryProductsListItem_productsName__PpMwR",f="DiaryProductsListItem_productsGramm__wokGZ",p="DiaryProductsListItem_productsKcal__57hZE",y="DiaryProductsListItem_productsKcal__text__2Pgwz",x="DiaryProductsListItem_productsBtn__J70jN",h="DiaryProductsListItem_productsIcon__-wCu9",j=function(t){var r=t.product,a=(0,c.I0)(),e=(0,c.v9)(i.j6),n=r.id;return(0,d.jsxs)("li",{className:m,children:[(0,d.jsx)("div",{className:_,children:r.title}),(0,d.jsx)("div",{className:f,children:r.weight}),(0,d.jsxs)("div",{className:p,children:[Math.round(r.kcal),(0,d.jsx)("span",{className:y,children:"kcal"})]}),(0,d.jsx)("button",{className:x,type:"button",onClick:function(){console.log(e,n),a((0,o.sb)({dayId:e,eatenProductId:n}))},children:(0,d.jsx)(s.q5L,{className:h})})]})},D="DiaryProductsList_box__KuU3x",v="DiaryProductsList_productsList__t9KeG";function N(){var t=(0,c.v9)(i.kk);return(0,d.jsx)("div",{className:D,children:t.length>0?(0,d.jsx)("ul",{className:v,children:t.map((function(t){return(0,d.jsx)(j,{product:t},t.id)}))}):(0,d.jsx)("div",{children:"No product selected"})})}var I="DiaryComp_container__CfpKn",P="DiaryComp_formBtn__odGpQ",b="DiaryComp_icon__5WXW6",g=a(2426),C=a.n(g),L=a(5442),M="DiaryDate\u0421alendar_wrap__iht4j",k="DiaryDate\u0421alendar_calendarWrap__nsGMn",w="DiaryDate\u0421alendar_calendar__B2bh-",F="DiaryDate\u0421alendar_calendarDate__MR7f+",A=a(8062);function B(){var t=(0,n.useState)(new Date),r=(0,e.Z)(t,2),a=r[0],s=r[1],i=(0,c.I0)();(0,n.useEffect)((function(t){i((0,o.Wd)({date:C()(t).format("yyyy-MM-DD")}))}),[i]),(0,n.useEffect)((function(){i((0,A.sJ)(C()(a).format("yyyy-MM-DD")))}),[a,i]);return(0,d.jsx)("div",{className:M,children:(0,d.jsx)(L.Z,{onChange:function(t){s(t),i((0,o.Wd)({date:C()(t).format("yyyy-MM-DD")})),i((0,A.sJ)(C()(t).format("yyyy-MM-DD")))},value:a,clearIcon:null,format:"dd.MM.y",className:k,calendarClassName:w,tileClassName:F})})}function G(){var t=(0,c.I0)(),r=(0,n.useCallback)((function(){t((0,A.ZN)(!0))}),[t]);return(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)(B,{}),(0,d.jsx)(l,{}),(0,d.jsx)(N,{}),(0,d.jsx)("button",{className:P,type:"button",onClick:r,children:(0,d.jsx)(s.OvN,{className:b})})]})}var Z=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("title",{children:"Diary"}),(0,d.jsx)(G,{})]})}}}]);
//# sourceMappingURL=547.68cea0cb.chunk.js.map