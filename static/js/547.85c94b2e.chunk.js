"use strict";(self.webpackChunkreact_team_project=self.webpackChunkreact_team_project||[]).push([[547],{6648:function(t,e,r){r.r(e),r.d(e,{default:function(){return G}});var a=r(885),n=r(2791),s=r(3853),c=r(9434),o=r(9488),i=r(4148),u={formProduct:"DiaryAddProductForm_formProduct__bLNkG",formLabel:"DiaryAddProductForm_formLabel__2iQOj",formInput:"DiaryAddProductForm_formInput__yClS2",formInput__gram:"DiaryAddProductForm_formInput__gram__0UnmD",formButton:"DiaryAddProductForm_formButton__x9kC6",icon:"DiaryAddProductForm_icon__AaQOc"},d=r(3329);function l(t){var e=t.date,r=(0,c.I0)(),l=(0,c.v9)(i.Fn),m=(0,n.useState)(""),_=(0,a.Z)(m,2),f=_[0],p=_[1],y=(0,n.useState)(""),x=(0,a.Z)(y,2),h=x[0],j=x[1],D=function(){if(l){var t=l.findIndex((function(t){return t.title.ru===f}));if(t>=0)return l[t]._id}}(),v=function(t){var e=t.target,a=e.name,n=e.value;switch(a){case"product":return n.length>2&&r((0,o.MX)(n)),p(n);case"grams":return j(n);default:return}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:u.form,children:(0,d.jsxs)("form",{className:u.formProduct,onSubmit:function(t){t.preventDefault();var a=+t.target.elements.grams.value;r((0,o.mB)({date:e,productId:D,weight:a})),p(""),j("")},children:[(0,d.jsxs)("label",{className:u.formLabel,children:[(0,d.jsx)("input",{className:u.formInput,type:"text",name:"product",value:f,onChange:v,placeholder:"Enter product name",list:"list",autoComplete:"off",required:!0}),(null===l||void 0===l?void 0:l.length)>0&&(0,d.jsx)("datalist",{id:"list",children:l.map((function(t){return(0,d.jsx)("option",{value:t.title.ru},t._id)}))})]}),(0,d.jsx)("label",{className:u.formLabel,children:(0,d.jsx)("input",{className:u.formInput+" "+u.formInput__gram,type:"text",pattern:"[0-9]+",name:"grams",value:h,onChange:v,placeholder:"Grams",required:!0,autoComplete:"off"})}),(0,d.jsx)("button",{className:u.formButton,type:"submit",children:(0,d.jsx)(s.OvN,{className:u.icon})})]})})})}var m="DiaryProductsListItem_productsListItem__5+qUY",_="DiaryProductsListItem_productsName__PpMwR",f="DiaryProductsListItem_productsGramm__wokGZ",p="DiaryProductsListItem_productsKcal__57hZE",y="DiaryProductsListItem_productsKcal__text__2Pgwz",x="DiaryProductsListItem_productsBtn__J70jN",h="DiaryProductsListItem_productsIcon__-wCu9",j=function(t){var e=t.product,r=(0,c.I0)(),a=(0,c.v9)(i.j6),n=e.id;return(0,d.jsxs)("li",{className:m,children:[(0,d.jsx)("div",{className:_,children:e.title}),(0,d.jsx)("div",{className:f,children:e.weight}),(0,d.jsxs)("div",{className:p,children:[Math.round(e.kcal),(0,d.jsx)("span",{className:y,children:"kcal"})]}),(0,d.jsx)("button",{className:x,type:"button",onClick:function(){console.log(a,n),r((0,o.sb)({dayId:a,eatenProductId:n}))},children:(0,d.jsx)(s.q5L,{className:h})})]})},D="DiaryProductsList_box__KuU3x",v="DiaryProductsList_productsList__t9KeG";function N(){var t=(0,c.v9)(i.kk);return(0,d.jsx)("div",{className:D,children:t.length>0?(0,d.jsx)("ul",{className:v,children:t.map((function(t){return(0,d.jsx)(j,{product:t},t.id)}))}):(0,d.jsx)("div",{children:"No product selected"})})}var I="DiaryComp_container__CfpKn",g="DiaryComp_formBtn__odGpQ",C="DiaryComp_icon__5WXW6",P=r(2426),b=r.n(P),L=r(5442),k="DiaryDate\u0421alendar_wrap__iht4j",M="DiaryDate\u0421alendar_calendarWrap__nsGMn",w="DiaryDate\u0421alendar_calendar__B2bh-",F="DiaryDate\u0421alendar_calendarDate__MR7f+";function Z(t){var e=t.getCalendarDate,r=(0,n.useState)(new Date),s=(0,a.Z)(r,2),i=s[0],u=s[1],l=(0,c.I0)();(0,n.useEffect)((function(t){l((0,o.Wd)({date:b()(t).format("yyyy-MM-DD")}))}),[l]),(0,n.useEffect)((function(){e(i)}),[e,i]);return(0,d.jsx)("div",{className:k,children:(0,d.jsx)(L.Z,{onChange:function(t){u(t),l((0,o.Wd)({date:b()(t).format("yyyy-MM-DD")}))},value:i,clearIcon:null,format:"dd.MM.y",className:M,calendarClassName:w,tileClassName:F})})}var A=r(8062);function B(){var t=(0,c.I0)(),e=(0,n.useState)(""),r=(0,a.Z)(e,2),o=r[0],i=r[1],u=(0,n.useCallback)((function(){t((0,A.Z)(!0))}),[t]);return(0,d.jsxs)("div",{className:I,children:[(0,d.jsx)(Z,{getCalendarDate:function(t){i(b()(t).format("yyyy-MM-DD"))}}),(0,d.jsx)(l,{date:o}),(0,d.jsx)(N,{}),(0,d.jsx)("button",{className:g,type:"button",onClick:u,children:(0,d.jsx)(s.OvN,{className:C})})]})}var G=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("title",{children:"Diary"}),(0,d.jsx)(B,{})]})}}}]);
//# sourceMappingURL=547.85c94b2e.chunk.js.map